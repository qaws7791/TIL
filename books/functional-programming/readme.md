# 함수형 프로그래밍



## 함수형 프로그래밍이란

**부수 효과(side effect)**없이 **순수 함수**만 사용하는 프로그래밍

부수 효과(side effect): 함수가 반환하는 값 이외의 일

순수 함수: 같은 입력에 대해 항상 같은 출력을 반환하는 부수 효과 없는 함수

하지만 부수 효과는 프로그래밍에서 필요하기 때문에 함수형 프로그래밍이 부수 효과를 배제하는 것은 아니다

## 액션과 계산, 데이터

- 액션: 호출하는 시점이나 횟수에 의존하거나 외부 시스템과 상호작용하는 함수. 
  - 상태 변경 보장
  - 순서 보장
  - 실행 횟수 보장
- 계산: 입력값을 계산하여 반환(출력)하는 함수
  - 정확한 계산
  - 효율적인 계산 수식
  - 테스트
- 데이터: 이벤트에 대한 결과
  - 효율적 접근
  - 안전한 데이터 보관
  - 데이터 분석



## 계산보다 액션

- 테스트하기 쉽다 - 계산은 같은 입력에 대해 항상 같은 값을 반환하므로 테스트하기 쉽습니다
- 정적 분석이 쉽다 
- 조합하기 쉽다



## 액션을 부르면 액션이다

어떤 함수가 내부에서 액션을 사용한다면 이 함수도 액션이 됩니다. 이 함수가 언제 실행하는지가 이 함수 내부의 액션 호출 시점에 영향을 주기 때문입니다.



## 자바스크립트에서 액션

- DOM 관련 메서드
  - `document.METHOD`
- alert, confirm 호출
  - `alert`, `confirm`
- 콘솔 출력
  - `console.log`
- 날짜, 시간과 관련된 작업
  - new Date()
- 참조 사용
  - 변수, 속성, 배열, 객체
- 상태 변경
  - 값 할당
  - 속성 변경, 삭제



## 액션은 어렵다

액션은 소프트웨어를 사용하는 가장 큰 이유이지만 그만큼 잘못 사용하면 위험합니다

1. 액션을 필요할 때만 최대한 적게 사용해야 합니다. 
2. 액션은 가장 작게 만들어야 합니다. 불필요한 부분은 제거하거나 빼내야 합니다
   1. 암묵적 입력과 출력을 제거하여 계산으로 만들기
3. 액션이 외부 세계와 상호작용하는 것을 제한 할 수 있다
4. 엑션이 호출 시점에 의존하는 것을 제한할 수 있다

## 재사용하기

- 전역 변수에 의존하지 않기 & 전역변수를 변경하지 않고 값을 반환하기
- 특정 조건에서 실행된다고 가정하지 않기

## 액션에서 계산으로 변경하기

- 계산 부분은 별도의 함수로 분리하기
- 암묵적 입력은 인자(명시적 입력)로, 암묵적 출력은 반환 값(명시적 출력)으로 변경하기
  - 암묵적 입력: 인자가 아닌 입력
  - 암묵적 출력: 반환 값이 아닌 출력



## 작게 분리된 코드의 장점

- 재사용하기 쉽다
- 유지보수가 쉽다
- 테스트가 쉽다



## 데이터 불변성 유지

### Copy on Write

1. 복사본 생성
2. 복사본 변경
3. 복사본 반환

### 불변 데이터

- 변경 가능한 데이터를 읽는 것 -> 액션
- 불변 데이터를 읽는 것 -> 계산



173